<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>–õ—É–ø–∞ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º–∏</title>
<style>
  .container {
    position: relative;
    width: 350px;
  }

  #main-img {
    width: 100%;
    border-radius: 15px;
  }

  /* –õ—É–ø–∞ */
  .magnifier {
    position: absolute;
    border: 3px solid #fff;
    border-radius: 50%;
    width: 120px;
    height: 120px;
    overflow: hidden;
    pointer-events: none;
    background-repeat: no-repeat;
    background-size: 350px auto; /* –ø–æ —Ä–∞–∑–º–µ—Ä—É –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
  }
</style>
</head>

<body>

<div class="container">
  <img id="main-img" src="normal.jpg" alt="–û–±—ã—á–Ω–æ–µ —Ç–µ–ª–æ">

  <!-- –õ—É–ø–∞ -->
  <div id="lens" class="magnifier"></div>
</div>

<script>
const lens = document.getElementById("lens");
const img = document.getElementById("main-img");

lens.style.backgroundImage = "url('inside-smoker.jpg')"; // üî• –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å –æ—Ä–≥–∞–Ω–∞–º–∏

img.addEventListener("mousemove", moveLens);
img.addEventListener("touchmove", moveLens);

function moveLens(e) {
  e.preventDefault();

  const rect = img.getBoundingClientRect();
  const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
  const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;

  lens.style.left = (x - lens.offsetWidth / 2) + "px";
  lens.style.top = (y - lens.offsetHeight / 2) + "px";

  lens.style.backgroundPosition = `-${x - 60}px -${y - 60}px`;
}
</script>

</body>
</html>
